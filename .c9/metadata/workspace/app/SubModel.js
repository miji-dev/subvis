{"filter":false,"title":"SubModel.js","tooltip":"/app/SubModel.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":224,"column":4},"end":{"row":224,"column":5},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":1},"end":{"row":224,"column":5},"action":"remove","lines":["cons"]},{"start":{"row":224,"column":1},"end":{"row":224,"column":8},"action":"insert","lines":["console"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":8},"end":{"row":224,"column":9},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":9},"end":{"row":224,"column":10},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":9},"end":{"row":224,"column":10},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":9},"end":{"row":224,"column":10},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":10},"end":{"row":224,"column":11},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":11},"end":{"row":224,"column":12},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":12},"end":{"row":224,"column":14},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":13},"end":{"row":224,"column":14},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":14},"end":{"row":224,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":15},"end":{"row":224,"column":16},"action":"insert","lines":["q"]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":16},"end":{"row":224,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":28},"end":{"row":24,"column":0},"action":"insert","lines":["",""]},{"start":{"row":24,"column":0},"end":{"row":24,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":1},"end":{"row":24,"column":2},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":2},"end":{"row":24,"column":3},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":3},"end":{"row":24,"column":4},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":4},"end":{"row":24,"column":5},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":5},"end":{"row":24,"column":6},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":6},"end":{"row":24,"column":7},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":7},"end":{"row":24,"column":8},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":8},"end":{"row":24,"column":9},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":9},"end":{"row":24,"column":10},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":10},"end":{"row":24,"column":11},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":11},"end":{"row":24,"column":12},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":12},"end":{"row":24,"column":14},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":13},"end":{"row":24,"column":14},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":14},"end":{"row":24,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":15},"end":{"row":24,"column":16},"action":"insert","lines":["q"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":16},"end":{"row":24,"column":17},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":17},"end":{"row":24,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":18},"end":{"row":24,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":19},"end":{"row":24,"column":20},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":20},"end":{"row":24,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":21},"end":{"row":24,"column":22},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":22},"end":{"row":24,"column":23},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":23},"end":{"row":24,"column":24},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":24},"end":{"row":24,"column":26},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":25},"end":{"row":24,"column":26},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":26},"end":{"row":24,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":27},"end":{"row":24,"column":28},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":28},"end":{"row":24,"column":29},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":29},"end":{"row":24,"column":30},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":30},"end":{"row":24,"column":31},"action":"insert","lines":["q"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":25},"end":{"row":24,"column":31},"action":"remove","lines":["setSeq"]},{"start":{"row":24,"column":25},"end":{"row":24,"column":37},"action":"insert","lines":["setSequences"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":0},"end":{"row":215,"column":0},"action":"remove","lines":["\tconsole.log(intervall)",""]}]}],[{"group":"doc","deltas":[{"start":{"row":224,"column":0},"end":{"row":225,"column":0},"action":"remove","lines":["\tconsole.log(seqs)",""]}]}],[{"group":"doc","deltas":[{"start":{"row":240,"column":0},"end":{"row":241,"column":0},"action":"remove","lines":["\t\tconsole.log(this.tempseqs[i].sentences)",""]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":13},"end":{"row":25,"column":17},"action":"remove","lines":["null"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"remove","lines":["\tconsole.log(sequences, \"setSequences\")",""]}]}],[{"group":"doc","deltas":[{"start":{"row":238,"column":49},"end":{"row":239,"column":0},"action":"insert","lines":["",""]},{"start":{"row":239,"column":0},"end":{"row":239,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":2},"end":{"row":239,"column":3},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":3},"end":{"row":239,"column":4},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":4},"end":{"row":239,"column":5},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":5},"end":{"row":239,"column":6},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":6},"end":{"row":239,"column":7},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":7},"end":{"row":239,"column":8},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":8},"end":{"row":239,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":9},"end":{"row":239,"column":10},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":10},"end":{"row":239,"column":11},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":11},"end":{"row":239,"column":12},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":12},"end":{"row":239,"column":13},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":13},"end":{"row":239,"column":15},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":14},"end":{"row":239,"column":15},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":15},"end":{"row":239,"column":16},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":16},"end":{"row":239,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":17},"end":{"row":239,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":18},"end":{"row":239,"column":19},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":19},"end":{"row":239,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":20},"end":{"row":239,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":21},"end":{"row":239,"column":22},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":22},"end":{"row":239,"column":23},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":19},"end":{"row":239,"column":23},"action":"remove","lines":["temp"]},{"start":{"row":239,"column":19},"end":{"row":239,"column":27},"action":"insert","lines":["tempseqs"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":27},"end":{"row":239,"column":28},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":27},"end":{"row":239,"column":28},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":27},"end":{"row":239,"column":29},"action":"insert","lines":["[]"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":28},"end":{"row":239,"column":29},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":239,"column":0},"end":{"row":240,"column":0},"action":"remove","lines":["\t\tconsole.log(this.tempseqs[i])",""]}]}],[{"group":"doc","deltas":[{"start":{"row":226,"column":0},"end":{"row":418,"column":2},"action":"remove","lines":["/**"," *"," */","SubModel.prototype.getSentenceStatistics = function() {","\tvar stats = {};","\tstats.wordCount = 0;","\tstats.normCount = 0;","\tstats.sents = 0;","\tvar low = 0;","\tvar high = 0;","\tstats.min = [];","\tstats.max = [];","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tstats.sents += this.tempseqs[i].sentences.length;","\t\tfor (var j = 0; j < this.tempseqs[i].sentences.length; j++) {","\t\t\tvar words = this.tempseqs[i].sentences[j].tokens.length;","\t\t\tstats.wordCount += words;","\t\t\tstats.normCount += this.tempseqs[i].sentences[j].stemmedTokens.length;","\t\t\tif (low == 0) {","\t\t\t\tlow = words;","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\tif (words > high) {","\t\t\t\thigh = words;","\t\t\t\tstats.max = [];","\t\t\t\tstats.max.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\telse if (words == high) {","\t\t\t\tstats.max.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\tif (words < low) {","\t\t\t\tlow = words;","\t\t\t\tstats.min = [];","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\telse if (words == low) {","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t}","\t}","\tstats.avgWordsInSent = stats.wordCount / stats.sents;","\tstats.wordsPerMinute = this.getItemsPerMinute(stats.wordCount);","\tstats.sentencesPerMinute = this.getItemsPerMinute(stats.sents);","\tstats.allSentiments = this.getTotalSentimentScore();","\treturn stats;","};","","/**"," *"," */","SubModel.prototype.getWordFreqLists = function() {","\tvar lists = {};","\tlists.wordList = [];","\tlists.normList = [];","\tlists.verbList = [];","\tlists.adjectiveList = [];","\tlists.adverbList = [];","\tlists.nounList = [];","\tlists.valueList = [];","\tlists.entityList = [];","","\tvar index = 0;","","\tvar createSortedList = function(origin) {","\t\t// sort list alphabetical","\t\torigin.sort(function(a, b) {","\t\t\tvar keyA = a.normalised; //.toString().toLowerCase();","\t\t\tvar keyB = b.normalised; //.toString().toLowerCase();","\t\t\treturn (keyA < keyB) ? -1 : (keyA > keyB) ? 1 : 0;","\t\t});","\t\t//origin.sort(function(a,b){return (a.normalised) - (b.normalised)});","\t\tvar oldPos = -1;","\t\tvar oldKey;","\t\tvar tmp = [];","\t\tfor (var k = 0; k < origin.length; k++) {","\t\t\tvar key = origin[k].normalised;","","\t\t\tif (tmp.length == 0 || key != oldKey) {","","\t\t\t\tvar entry = {};","\t\t\t\tentry.key = key;","\t\t\t\tentry.tokens = [];","\t\t\t\tentry.tokens.push(origin[k]);","\t\t\t\tentry.amount = 1;","","\t\t\t\ttmp.push(entry);","\t\t\t\toldKey = key;","\t\t\t\toldPos++;","\t\t\t}","\t\t\telse if (key == oldKey) {","\t\t\t\ttmp[oldPos].tokens.push(origin[k]);","\t\t\t\ttmp[oldPos].amount++;","\t\t\t}","\t\t}","\t\t// sort by amount","\t\ttmp.sort(function(a, b) {","\t\t\treturn (b.amount) - (a.amount)","\t\t});","\t\treturn tmp;","\t};","","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tfor (var j = 0; j < this.tempseqs[i].sentences.length; j++) {","\t\t\t// make wordList","\t\t\tfor (var s = 0; s < this.tempseqs[i].sentences[j].tokens.length; s++) {","\t\t\t\t// add index to tokens","\t\t\t\tthis.tempseqs[i].sentences[j].tokens[s].seqIndex = index;","\t\t\t\tindex++;","\t\t\t}","\t\t\t// add token to list","\t\t\tlists.wordList = lists.wordList.concat(this.tempseqs[i].sentences[j].tokens);","","\t\t\t// make normList","\t\t\tvar normKeys = this.tempseqs[i].sentences[j].stemmedTokens;","\t\t\tfor (var r = 0; r < normKeys.length; r++) {","\t\t\t\tlists.normList.push(normKeys[r]);","\t\t\t}","\t\t\t// make verbList","\t\t\tvar verbs = this.tempseqs[i].sentences[j].verbs();","\t\t\tlists.verbList = lists.verbList.concat(verbs);","\t\t\t// make adjectiveList","\t\t\tvar adjectives = this.tempseqs[i].sentences[j].adjectives();","\t\t\tlists.adjectiveList = lists.adjectiveList.concat(adjectives);","\t\t\t// make adverbList","\t\t\tvar adverbs = this.tempseqs[i].sentences[j].adverbs();","\t\t\tlists.adverbList = lists.adverbList.concat(adverbs);","\t\t\t// make nounList","\t\t\tvar nouns = this.tempseqs[i].sentences[j].nouns();","\t\t\tlists.nounList = lists.nounList.concat(nouns);","\t\t\t// make valueList","\t\t\tvar values = this.tempseqs[i].sentences[j].values();","\t\t\tlists.valueList = lists.valueList.concat(values);","\t\t\t// make entityList","\t\t\tvar entities = this.tempseqs[i].sentences[j].entities();","\t\t\tlists.entityList = lists.entityList.concat(entities);","\t\t}","\t}","","\t// create sorted lists","\tlists.wordList = createSortedList(lists.wordList);","\tlists.normList = createSortedList(lists.normList);","\tlists.verbList = createSortedList(lists.verbList);","\tlists.adjectiveList = createSortedList(lists.adjectiveList);","\tlists.adverbList = createSortedList(lists.adverbList);","\tlists.nounList = createSortedList(lists.nounList);","\tlists.valueList = createSortedList(lists.valueList);","\tlists.entityList = createSortedList(lists.entityList);","","","\tconsole.log(lists.wordList.length);","\tconsole.log(lists.normList.length);","\tconsole.log(lists.verbList.length);","\tconsole.log(lists.adjectiveList.length);","\tconsole.log(lists.adverbList.length);","\tconsole.log(lists.nounList.length);","\tconsole.log(lists.valueList.length);","\tconsole.log(lists.entityList.length);","","\t// sort lists","\t//lists.wordList.sort(function(a,b){return (b.amount) - (a.amount)});","\t//lists.normList.sort(function(a,b){return (b.amount) - (a.amount)});","\treturn lists;","};","","","/**"," *"," */","SubModel.prototype.getItemsPerMinute = function(items) {","\tvar dur = 0;","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tdur += this.tempseqs[i].duration;","\t}","\treturn dur / 6e4;","};","","/**"," *"," */","SubModel.prototype.getTotalSentimentScore = function() {","\tvar score = 0;","\tvar arr = [];","\tvar total = this.tempseqs.length;","\tfor (var i = 0; i < total; i++) {","\t\tscore += this.tempseqs[i].sentiment.score;","\t\tarr.push(this.tempseqs[i].sentiment)","\t}","\tscore = score / total;","\treturn {","\t\tscore: score,","\t\tsentiments: arr","\t};","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":225,"column":0},"end":{"row":226,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":225,"column":0},"end":{"row":226,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":8},"end":{"row":196,"column":12},"action":"remove","lines":["data"]},{"start":{"row":196,"column":8},"end":{"row":196,"column":9},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":9},"end":{"row":196,"column":10},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":10},"end":{"row":196,"column":11},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":11},"end":{"row":196,"column":12},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":12},"end":{"row":196,"column":13},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":12},"end":{"row":196,"column":13},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":11},"end":{"row":196,"column":12},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":11},"end":{"row":196,"column":12},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":12},"end":{"row":196,"column":13},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":13},"end":{"row":196,"column":14},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":14},"end":{"row":196,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":15},"end":{"row":196,"column":16},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":16},"end":{"row":196,"column":17},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":13},"end":{"row":196,"column":17},"action":"remove","lines":["temp"]},{"start":{"row":196,"column":13},"end":{"row":196,"column":21},"action":"insert","lines":["tempseqs"]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":0},"end":{"row":189,"column":24},"action":"remove","lines":["","\tthis.update(intervall);"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":0},"end":{"row":195,"column":24},"action":"insert","lines":["","\tthis.update(intervall);"]}]}],[{"group":"doc","deltas":[{"start":{"row":189,"column":0},"end":{"row":190,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":191,"column":0},"end":{"row":192,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":192,"column":0},"action":"remove","lines":["\tvar data = {};","","\tdata.sequences = this.tempseqs;","\tdata.statistics = this.getSentenceStatistics();","\tdata.lists = this.getWordFreqLists();",""]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":188,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":381,"scrollleft":0,"selection":{"start":{"row":15,"column":21},"end":{"row":15,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":46,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1428517903804,"hash":"0ab56fc1923e176854a925cf90b6c79e9d81ae70"}