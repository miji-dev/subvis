{"filter":false,"title":"deletedFunctions.md","tooltip":"/deletedFunctions.md","undoManager":{"mark":69,"position":69,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":192,"column":2},"action":"insert","lines":["/**"," *"," */","SubModel.prototype.getSentenceStatistics = function() {","\tvar stats = {};","\tstats.wordCount = 0;","\tstats.normCount = 0;","\tstats.sents = 0;","\tvar low = 0;","\tvar high = 0;","\tstats.min = [];","\tstats.max = [];","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tstats.sents += this.tempseqs[i].sentences.length;","\t\tfor (var j = 0; j < this.tempseqs[i].sentences.length; j++) {","\t\t\tvar words = this.tempseqs[i].sentences[j].tokens.length;","\t\t\tstats.wordCount += words;","\t\t\tstats.normCount += this.tempseqs[i].sentences[j].stemmedTokens.length;","\t\t\tif (low == 0) {","\t\t\t\tlow = words;","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\tif (words > high) {","\t\t\t\thigh = words;","\t\t\t\tstats.max = [];","\t\t\t\tstats.max.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\telse if (words == high) {","\t\t\t\tstats.max.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\tif (words < low) {","\t\t\t\tlow = words;","\t\t\t\tstats.min = [];","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t\telse if (words == low) {","\t\t\t\tstats.min.push(this.tempseqs[i].sentences[j]);","\t\t\t}","\t\t}","\t}","\tstats.avgWordsInSent = stats.wordCount / stats.sents;","\tstats.wordsPerMinute = this.getItemsPerMinute(stats.wordCount);","\tstats.sentencesPerMinute = this.getItemsPerMinute(stats.sents);","\tstats.allSentiments = this.getTotalSentimentScore();","\treturn stats;","};","","/**"," *"," */","SubModel.prototype.getWordFreqLists = function() {","\tvar lists = {};","\tlists.wordList = [];","\tlists.normList = [];","\tlists.verbList = [];","\tlists.adjectiveList = [];","\tlists.adverbList = [];","\tlists.nounList = [];","\tlists.valueList = [];","\tlists.entityList = [];","","\tvar index = 0;","","\tvar createSortedList = function(origin) {","\t\t// sort list alphabetical","\t\torigin.sort(function(a, b) {","\t\t\tvar keyA = a.normalised; //.toString().toLowerCase();","\t\t\tvar keyB = b.normalised; //.toString().toLowerCase();","\t\t\treturn (keyA < keyB) ? -1 : (keyA > keyB) ? 1 : 0;","\t\t});","\t\t//origin.sort(function(a,b){return (a.normalised) - (b.normalised)});","\t\tvar oldPos = -1;","\t\tvar oldKey;","\t\tvar tmp = [];","\t\tfor (var k = 0; k < origin.length; k++) {","\t\t\tvar key = origin[k].normalised;","","\t\t\tif (tmp.length == 0 || key != oldKey) {","","\t\t\t\tvar entry = {};","\t\t\t\tentry.key = key;","\t\t\t\tentry.tokens = [];","\t\t\t\tentry.tokens.push(origin[k]);","\t\t\t\tentry.amount = 1;","","\t\t\t\ttmp.push(entry);","\t\t\t\toldKey = key;","\t\t\t\toldPos++;","\t\t\t}","\t\t\telse if (key == oldKey) {","\t\t\t\ttmp[oldPos].tokens.push(origin[k]);","\t\t\t\ttmp[oldPos].amount++;","\t\t\t}","\t\t}","\t\t// sort by amount","\t\ttmp.sort(function(a, b) {","\t\t\treturn (b.amount) - (a.amount)","\t\t});","\t\treturn tmp;","\t};","","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tfor (var j = 0; j < this.tempseqs[i].sentences.length; j++) {","\t\t\t// make wordList","\t\t\tfor (var s = 0; s < this.tempseqs[i].sentences[j].tokens.length; s++) {","\t\t\t\t// add index to tokens","\t\t\t\tthis.tempseqs[i].sentences[j].tokens[s].seqIndex = index;","\t\t\t\tindex++;","\t\t\t}","\t\t\t// add token to list","\t\t\tlists.wordList = lists.wordList.concat(this.tempseqs[i].sentences[j].tokens);","","\t\t\t// make normList","\t\t\tvar normKeys = this.tempseqs[i].sentences[j].stemmedTokens;","\t\t\tfor (var r = 0; r < normKeys.length; r++) {","\t\t\t\tlists.normList.push(normKeys[r]);","\t\t\t}","\t\t\t// make verbList","\t\t\tvar verbs = this.tempseqs[i].sentences[j].verbs();","\t\t\tlists.verbList = lists.verbList.concat(verbs);","\t\t\t// make adjectiveList","\t\t\tvar adjectives = this.tempseqs[i].sentences[j].adjectives();","\t\t\tlists.adjectiveList = lists.adjectiveList.concat(adjectives);","\t\t\t// make adverbList","\t\t\tvar adverbs = this.tempseqs[i].sentences[j].adverbs();","\t\t\tlists.adverbList = lists.adverbList.concat(adverbs);","\t\t\t// make nounList","\t\t\tvar nouns = this.tempseqs[i].sentences[j].nouns();","\t\t\tlists.nounList = lists.nounList.concat(nouns);","\t\t\t// make valueList","\t\t\tvar values = this.tempseqs[i].sentences[j].values();","\t\t\tlists.valueList = lists.valueList.concat(values);","\t\t\t// make entityList","\t\t\tvar entities = this.tempseqs[i].sentences[j].entities();","\t\t\tlists.entityList = lists.entityList.concat(entities);","\t\t}","\t}","","\t// create sorted lists","\tlists.wordList = createSortedList(lists.wordList);","\tlists.normList = createSortedList(lists.normList);","\tlists.verbList = createSortedList(lists.verbList);","\tlists.adjectiveList = createSortedList(lists.adjectiveList);","\tlists.adverbList = createSortedList(lists.adverbList);","\tlists.nounList = createSortedList(lists.nounList);","\tlists.valueList = createSortedList(lists.valueList);","\tlists.entityList = createSortedList(lists.entityList);","","","\tconsole.log(lists.wordList.length);","\tconsole.log(lists.normList.length);","\tconsole.log(lists.verbList.length);","\tconsole.log(lists.adjectiveList.length);","\tconsole.log(lists.adverbList.length);","\tconsole.log(lists.nounList.length);","\tconsole.log(lists.valueList.length);","\tconsole.log(lists.entityList.length);","","\t// sort lists","\t//lists.wordList.sort(function(a,b){return (b.amount) - (a.amount)});","\t//lists.normList.sort(function(a,b){return (b.amount) - (a.amount)});","\treturn lists;","};","","","/**"," *"," */","SubModel.prototype.getItemsPerMinute = function(items) {","\tvar dur = 0;","\tfor (var i = 0; i < this.tempseqs.length; i++) {","\t\tdur += this.tempseqs[i].duration;","\t}","\treturn dur / 6e4;","};","","/**"," *"," */","SubModel.prototype.getTotalSentimentScore = function() {","\tvar score = 0;","\tvar arr = [];","\tvar total = this.tempseqs.length;","\tfor (var i = 0; i < total; i++) {","\t\tscore += this.tempseqs[i].sentiment.score;","\t\tarr.push(this.tempseqs[i].sentiment)","\t}","\tscore = score / total;","\treturn {","\t\tscore: score,","\t\tsentiments: arr","\t};","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\tvar data = {};","","\tdata.sequences = this.tempseqs;","\tdata.statistics = this.getSentenceStatistics();","\tdata.lists = this.getWordFreqLists();",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":1,"column":0},"action":"insert","lines":["",""]},{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":1},"end":{"row":2,"column":0},"action":"insert","lines":["",""]},{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":4,"column":9},"action":"insert","lines":["<script src=\"https://rawgit.com/spencermountain/nlp_compromise/master/client_side/nlp.min.js\"> </script>","<script>","  nlp.noun(\"dinosaur\").pluralize()","  //dinosaurs","</script>"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":33},"action":"remove","lines":["noun(\"dinosaur\").pluralize("]},{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":8},"end":{"row":2,"column":9},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":9},"end":{"row":2,"column":10},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":10},"end":{"row":2,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":11},"end":{"row":2,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":12},"end":{"row":2,"column":13},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":16},"end":{"row":2,"column":17},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":17},"end":{"row":2,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":17},"end":{"row":2,"column":18},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":16},"end":{"row":2,"column":17},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":12},"end":{"row":2,"column":13},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":11},"end":{"row":2,"column":12},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":10},"end":{"row":2,"column":11},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":10},"end":{"row":2,"column":11},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":11},"end":{"row":2,"column":12},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":12},"end":{"row":2,"column":13},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":16},"end":{"row":2,"column":17},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":17},"end":{"row":2,"column":18},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":18},"end":{"row":2,"column":19},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":19},"end":{"row":2,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":20},"end":{"row":2,"column":21},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":21},"end":{"row":2,"column":22},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":22},"end":{"row":2,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":23},"end":{"row":2,"column":24},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":24},"end":{"row":2,"column":25},"action":"insert","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"insert","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":28},"end":{"row":2,"column":29},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":29},"end":{"row":2,"column":30},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":29},"end":{"row":2,"column":30},"action":"remove","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":28},"end":{"row":2,"column":29},"action":"remove","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":28},"end":{"row":2,"column":29},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":29},"end":{"row":2,"column":30},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":30},"end":{"row":2,"column":31},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":31},"end":{"row":2,"column":32},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":32},"end":{"row":2,"column":33},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":33},"end":{"row":2,"column":34},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":34},"end":{"row":2,"column":35},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":35},"end":{"row":2,"column":36},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":36},"end":{"row":2,"column":37},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":37},"end":{"row":2,"column":38},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":2},"end":{"row":2,"column":23},"action":"insert","lines":["data[x].sentences[y]."]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":23},"end":{"row":2,"column":24},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":24},"end":{"row":2,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":25},"end":{"row":2,"column":26},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":26},"end":{"row":2,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":27},"end":{"row":2,"column":28},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":28},"end":{"row":2,"column":29},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":29},"end":{"row":2,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":30},"end":{"row":2,"column":31},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":31},"end":{"row":2,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":69},"end":{"row":2,"column":70},"action":"insert","lines":[";"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":32},"end":{"row":3,"column":13},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428521359000,"hash":"291beb6ba213bf0aa9fcd4353d2409f5e7386d3e"}